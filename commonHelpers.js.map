{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport function getPictures(picture) {\n    const url = `https://pixabay.com/api/?key=42459429-d6d7a0fe637ea3675bc35ddeb&q=${picture}`;\n     return fetch(url)\n        .then(response => {\n         if (!response.ok) {\n             throw new Error(response.status);\n              }\n    return response.json();\n        })\n    .catch( (error) => console.log(error))\n}\n\n","\nexport function createMarkup({ webformatURL, largeImageURL, likes, views, comments, downloads, tags }) {\n  \n        return `<li>\n        <div>\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        </div>\n        <div class=\"text-content\">\n        <p><span class=\"text-span\">Likes</span><br>${likes}</p>\n        <p><span class=\"text-span\">Views</span><br>${views}</p>\n        <p><span class=\"text-span\">Comments</span><br>${comments}</p>\n        <p><span class=\"text-span\">Downloads</span><br>${downloads}</p>\n        </div>\n        </li>`;\n}\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getPictures } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.searchForm');\nconst loader = document.querySelector('.css-loader');\nconst gallery = document.querySelector('.galleryDetails');\n\nform.addEventListener('submit', onFormHandler);\n\nfunction onFormHandler(event) {\n    event.preventDefault();\n    loader.classList.add('loader');\n\n    gallery.innerHTML = \"\";\n    const query = event.target.elements.name.value.trim();\n\n    if (!query) {\n        loader.classList.remove('loader');\n        return iziToast.warning({ message: \"Must be filled\" });\n    }\n\n    getPictures(query)\n        .then(data => {\n            if (!data.hits || data.hits.length === 0) {\n                return iziToast.error({ message: \"Sorry, there are no images matching your search query. Please try again!\" });\n            }\n\n            const images = data.hits;\n            const markup = images.map(image => createMarkup(image)).join('');\n\n            gallery.innerHTML = markup;\n\n            const lightbox = new SimpleLightbox('div a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n                preloading: true,\n            });\n            lightbox.refresh();\n            loader.classList.remove('loader');\n        })\n        .catch(() => {\n            iziToast.error({ message: \"Error occurred while fetching images. Please try again later!\" });\n        }).finally(() => {\n            loader.classList.remove('loader');\n        });\n\n    form.reset();\n}"],"names":["getPictures","picture","url","response","error","createMarkup","webformatURL","largeImageURL","likes","views","comments","downloads","tags","form","loader","gallery","onFormHandler","event","query","iziToast","data","markup","image","SimpleLightbox"],"mappings":"6vBACO,SAASA,EAAYC,EAAS,CACjC,MAAMC,EAAM,qEAAqED,CAAO,GACvF,OAAO,MAAMC,CAAG,EACZ,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAExC,OAAOA,EAAS,MACpB,CAAS,EACJ,MAAQC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACzC,CCVO,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,KAAAC,GAAQ,CAE/F,MAAO;AAAA;AAAA,mBAEIL,CAAa;AAAA,oBACZD,CAAY,UAAUM,CAAI;AAAA;AAAA;AAAA;AAAA,qDAIOJ,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA,cAGlE,CCTA,MAAME,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,iBAAiB,EAExDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpBH,EAAO,UAAU,IAAI,QAAQ,EAE7BC,EAAQ,UAAY,GACpB,MAAMG,EAAQD,EAAM,OAAO,SAAS,KAAK,MAAM,OAE/C,GAAI,CAACC,EACD,OAAAJ,EAAO,UAAU,OAAO,QAAQ,EACzBK,EAAS,QAAQ,CAAE,QAAS,gBAAkB,CAAA,EAGzDnB,EAAYkB,CAAK,EACZ,KAAKE,GAAQ,CACV,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EACnC,OAAOD,EAAS,MAAM,CAAE,QAAS,0EAA4E,CAAA,EAIjH,MAAME,EADSD,EAAK,KACE,IAAIE,GAASjB,EAAaiB,CAAK,CAAC,EAAE,KAAK,EAAE,EAE/DP,EAAQ,UAAYM,EAEH,IAAIE,EAAe,QAAS,CACzC,aAAc,MACd,aAAc,IACd,WAAY,EAC5B,CAAa,EACQ,QAAO,EAChBT,EAAO,UAAU,OAAO,QAAQ,CAC5C,CAAS,EACA,MAAM,IAAM,CACTK,EAAS,MAAM,CAAE,QAAS,+DAAiE,CAAA,CACvG,CAAS,EAAE,QAAQ,IAAM,CACbL,EAAO,UAAU,OAAO,QAAQ,CAC5C,CAAS,EAELD,EAAK,MAAK,CACd"}